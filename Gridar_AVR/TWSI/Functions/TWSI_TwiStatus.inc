/*
* Проверяет состояние регистра TWI модуля I2C
*/
.macro TWSI_Status
	push r17
	ldi		r17, @0						;записываем в r17 значение @0
	_call TWSI_Status_act
	pop r17
.endm
//____________________________________________________________________________________
//____________________________________________________________________________________
TWSI_Status_act:
	push r16
	TWSI_Status_act_1:
		READ_REG TWSR, r16
		andi	r16, 0xF8				; обнуляем первые три бита
		cpse	r16, r17				; сравниваем r16 и r17
		rjmp	TWSI_Status_act_1	; если не равны, то переходим
	pop r16
ret
